<!DOCTYPE html><html><head><title>Cursors and Input</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width"><meta property="fb:app_id" content="1677033832619985"><meta property="fb:admins" content="121800083"><meta property="og:site_name" content="React Native"><meta property="og:title" content="Cursors and Input"><meta property="og:url" content="https://facebook.github.io/react-vr/index.html"><meta property="og:image" content="https://facebook.github.io/react-vr/img/opengraph.png"><meta property="og:description" content="A framework for building native apps using React"><meta name="twitter:site" content="@reactnative"><meta name="twitter:card" content="summary_large_image"><meta property="og:type" content="website"><base href="../"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="shortcut icon" href="img/favicon.png?2"><link rel="stylesheet" href="css/react-vr.css"><link rel="alternate" type="application/rss+xml" title="React Native Blog" href="https://facebook.github.io/react-vr/blog/feed.xml"><link href="https://cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css"><script type="text/javascript" src="https://use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body><script>window.fbAsyncInit = function() {FB.init({appId:'1677033832619985',xfbml:true,version:'v2.7'});};(function(d, s, id){var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) {return;}js = d.createElement(s); js.id = id;js.src = 'https://connect.facebook.net/en_US/sdk.js';fjs.parentNode.insertBefore(js, fjs);}(document, 'script','facebook-jssdk'));</script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, "script", "twitter-wjs"));</script><div class="container"><div class="nav-main"><div class="wrap"><a class="nav-home" href="./index.html"><img src="img/header_logo.png">React VR</a><div class="nav-site-wrapper"><ul class="nav-site nav-site-internal"><li><a href="docs/getting-started.html" class="active" data-target=".nav-docs">Docs</a></li></ul><ul class="nav-site nav-site-external"><li><a href="https://github.com/facebook/react-vr" class="">GitHub</a></li><li><a href="http://facebook.github.io/react" class="">React</a></li><li><a href="http://facebook.github.io/react-native" class="">React Native</a></li></ul></div></div></div><section class="content wrap documentationContent"><div class="nav-docs"><div class="nav-docs-viewport"><div class="nav-docs-section"><h3>The Basics</h3><ul><li><a style="margin-left:10px;" class="" href="docs/getting-started.html">Getting Started</a></li><li><a style="margin-left:10px;" class="" href="docs/tutorial.html">Hello World</a></li><li><a style="margin-left:10px;" class="" href="docs/project-configuration.html">Project Configuration</a></li><li><a style="margin-left:10px;" class="" href="docs/publishing.html">Publishing Your Project</a></li><li><a style="margin-left:10px;" class="" href="docs/react-vroverview.html">React VR Overview</a></li><li><a style="margin-left:10px;" class="" href="docs/components-props-and-state.html">Components, Props and State</a></li><li><a style="margin-left:10px;" class="" href="docs/layout-and-style.html">Layout and Style</a></li><li><a style="margin-left:10px;" class="" href="docs/3dcoordinates-and-transforms.html">3D Coordinates and Transforms</a></li><li><a style="margin-left:10px;" class="active" href="docs/input.html">Cursors and Input</a></li><li><a style="margin-left:10px;" class="" href="docs/fonts.html">Fonts and Text</a></li><li><a style="margin-left:10px;" class="" href="docs/vrbrowsers.html">VR Browsers</a></li><li><a style="margin-left:10px;" class="" href="docs/dev-tools.html">Dev Tools</a></li><li><a style="margin-left:10px;" class="" href="docs/release-change-log.html">Release Changelog</a></li></ul></div><div class="nav-docs-section"><h3>Guides</h3><ul><li><a style="margin-left:10px;" class="" href="docs/animations.html">Animations</a></li><li><a style="margin-left:10px;" class="" href="docs/colors.html">Colors</a></li><li><a style="margin-left:10px;" class="" href="docs/debugging.html">Debugging</a></li><li><a style="margin-left:10px;" class="" href="docs/images.html">Images</a></li><li><a style="margin-left:10px;" class="" href="docs/timers.html">Timers</a></li><li><a style="margin-left:10px;" class="" href="docs/native-modules.html">Native Modules and Views</a></li><li><a style="margin-left:10px;" class="" href="docs/platform-specific-information.html">Platform Specific Code</a></li><li><a style="margin-left:10px;" class="" href="docs/video-player.html">Video Player</a></li></ul></div><div class="nav-docs-section"><h3>core components</h3><ul><li><a style="margin-left:10px;" class="" href="docs/view.html">View</a></li><li><a style="margin-left:10px;" class="" href="docs/image.html">Image</a></li><li><a style="margin-left:10px;" class="" href="docs/text.html">Text</a></li></ul></div><div class="nav-docs-section"><h3>React VR Components</h3><ul><li><a style="margin-left:10px;" class="" href="docs/ambientlight.html">AmbientLight</a></li><li><a style="margin-left:10px;" class="" href="docs/box.html">Box</a></li><li><a style="margin-left:10px;" class="" href="docs/liveenvcamera.html">LiveEnvCamera</a></li><li><a style="margin-left:10px;" class="" href="docs/cylinder.html">Cylinder</a></li><li><a style="margin-left:10px;" class="" href="docs/cylindricalpanel.html">CylindricalPanel</a></li><li><a style="margin-left:10px;" class="" href="docs/directionallight.html">DirectionalLight</a></li><li><a style="margin-left:10px;" class="" href="docs/model.html">Model</a></li><li><a style="margin-left:10px;" class="" href="docs/pano.html">Pano</a></li><li><a style="margin-left:10px;" class="" href="docs/plane.html">Plane</a></li><li><a style="margin-left:10px;" class="" href="docs/pointlight.html">PointLight</a></li><li><a style="margin-left:10px;" class="" href="docs/scene.html">Scene</a></li><li><a style="margin-left:10px;" class="" href="docs/sound.html">Sound</a></li><li><a style="margin-left:10px;" class="" href="docs/sphere.html">Sphere</a></li><li><a style="margin-left:10px;" class="" href="docs/spotlight.html">SpotLight</a></li><li><a style="margin-left:10px;" class="" href="docs/video.html">Video</a></li><li><a style="margin-left:10px;" class="" href="docs/videocontrol.html">VideoControl</a></li><li><a style="margin-left:10px;" class="" href="docs/videopano.html">VideoPano</a></li><li><a style="margin-left:10px;" class="" href="docs/vrbutton.html">VrButton</a></li></ul></div><div class="nav-docs-section"><h3>APIs</h3><ul><li><a style="margin-left:10px;" class="" href="docs/animated.html">Animated</a></li><li><a style="margin-left:10px;" class="" href="docs/appregistry.html">AppRegistry</a></li><li><a style="margin-left:10px;" class="" href="docs/appstate.html">AppState</a></li><li><a style="margin-left:10px;" class="" href="docs/asyncstorage.html">AsyncStorage</a></li><li><a style="margin-left:10px;" class="" href="docs/controllerinfo.html">ControllerInfo</a></li><li><a style="margin-left:10px;" class="" href="docs/easing.html">Easing</a></li><li><a style="margin-left:10px;" class="" href="docs/externalassets.html">ExternalAssets</a></li><li><a style="margin-left:10px;" class="" href="docs/glyphtextures.html">GlyphTextures</a></li><li><a style="margin-left:10px;" class="" href="docs/history.html">History</a></li><li><a style="margin-left:10px;" class="" href="docs/linking.html">Linking</a></li><li><a style="margin-left:10px;" class="" href="docs/location.html">Location</a></li><li><a style="margin-left:10px;" class="" href="docs/reactvrconstants.html">ReactVRConstants</a></li><li><a style="margin-left:10px;" class="" href="docs/stylesheet.html">StyleSheet</a></li><li><a style="margin-left:10px;" class="" href="docs/mediaplayerstate.html">MediaPlayerState</a></li><li><a style="margin-left:10px;" class="" href="docs/nativemethodsmixin.html">NativeMethodsMixin</a></li><li><a style="margin-left:10px;" class="" href="docs/rctvideomodule.html">RCTVideoModule</a></li><li><a style="margin-left:10px;" class="" href="docs/vrheadmodel.html">VrHeadModel</a></li><li><a style="margin-left:10px;" class="" href="docs/vrsoundeffects.html">VrSoundEffects</a></li><li><a style="margin-left:10px;" class="" href="docs/layout-props.html">Layout Props</a></li></ul></div></div></div><div class="inner-content"><a id="content"></a><h1><a class="anchor" name="cursors-and-input"></a>Cursors and Input <a class="hash-link" href="docs/input.html#cursors-and-input">#</a></h1><div><h2><a class="anchor" name="cursors-and-input"></a>Cursors and Input <a class="hash-link" href="docs/input.html#cursors-and-input">#</a></h2><p>Our goal is to make writing cross-platform interactions simple. Input schemes
may vary with the device used to interact with your application, so we provide
event handlers and API hooks to enable a diverse variety of input systems.
Input events are collected from mouse, keyboard, touch, and gamepad interactions,
and cursors are implemented as simple raycasters into your scene.</p><p>Input events are collected each frame by the runtime, and passed to your React
application. Similarly, cursor position is continually gathered by the runtime,
and events like entering or exiting a View are calculated and passed to the
appropriate event handlers on the React side.</p><p>If you&#x27;re looking for simple, button-style, <code>onClick</code> behavior, that is
provided out of the box by <a href="docs/vrbutton.html" target="_blank">VrButton</a>.</p><h2><a class="anchor" name="supported-input-events"></a>Supported Input Events <a class="hash-link" href="docs/input.html#supported-input-events">#</a></h2><h3><a class="anchor" name="onenter"></a><code>onEnter</code> <a class="hash-link" href="docs/input.html#onenter">#</a></h3><p>This event is fired whenever the platform cursor begins intersecting with a
component. If you have configured your application to use multiple cursors,
you can determine which cursor generated the event by examining the <code>source</code>
property of the event. This is useful for implementing different behaviors for
different cursor systems.</p><h3><a class="anchor" name="onexit"></a><code>onExit</code> <a class="hash-link" href="docs/input.html#onexit">#</a></h3><p>This event is fired whenever the platform cursor stops intersecting with a
component. It has the same properties as <code>onEnter</code> events.</p><h3><a class="anchor" name="onmove"></a><code>onMove</code> <a class="hash-link" href="docs/input.html#onmove">#</a></h3><p>This event is fired as the cursor moves across a View. The position of the
cursor is passed as the <code>offset</code> property of the event: a two-unit array
array representing the x and y coordinates of the cursor relative to the view.
These values are unitless numbers ranging from 0.0 to 1.0, where <code>[0, 0]</code>
represents the top-left corner of a View, <code>[0.5, 0.5]</code> represents the center of
the view, and <code>[1.0, 1.0]</code> represents the bottom-right corner. Using unitless
values allows the same product code to be used in both 3D-positioned Views
(which use meters), and Views in a CylindricalPanel (which use pixels).</p><h3><a class="anchor" name="oninput"></a><code>onInput</code> <a class="hash-link" href="docs/input.html#oninput">#</a></h3><p>This event captures all interaction events: keyboard, mouse, touch, and gamepad.
Events coming into <code>onInput</code> can be further filtered by inspecting the <code>type</code>
field, which will be one of <code>&#x27;MouseInputEvent&#x27;</code>, <code>&#x27;KeyboardInputEvent&#x27;</code>,
<code>&#x27;TouchInputEvent&#x27;</code>, or <code>&#x27;GamepadInputEvent&#x27;</code>. Custom input systems can also
specify their own unique identifiers. For instance, the <code>onClick</code> handler of
<code>VrButton</code> filters events to capture the primary buttons for each input channel.</p><h2><a class="anchor" name="cursor-systems"></a>Cursor Systems <a class="hash-link" href="docs/input.html#cursor-systems">#</a></h2><p>Cursors are implemented as raycasters. Originating from a point in space, an
invisible ray is sent into the scene until it intersects with a view or mesh
that has an <code>onEnter</code>, <code>onExit</code>, or <code>onMove</code> event handler. If the interaction
state has changed, an appropriate event is sent to the view in the React
application. Your application can use any number of cursors at once; the first
implementation to return a value will set the cursor position on each frame.</p><p>Out of the box, React VR ships with a cursor implementation that allows users to
use a mouse or touchscreen to interface with your application. We don&#x27;t
initialize applications with any other cursors by default, because the set of
possible input devices for users with VR headsets can be wide-ranging. However,
we&#x27;ve made it extremely simple to implement your own raycasters, and we&#x27;ve
provided examples of raycasters that work with 3DOF or 6DOF controllers.</p><p>Custom raycasters need to implement three methods: <code>getType</code>, <code>getRayOrigin</code> and
<code>getRayDirection</code>. <code>getType</code> returns a unique string identifier for the
raycaster, so that React applications can provide special handling for specific
cursors. These two methods are called each frame to compose the ray
and calculate intersections. <code>getRayOrigin()</code> returns a 3-element array
representing the 3D position of the ray&#x27;s origin, relative to the camera.
<code>getRayDirection()</code> returns a 3-element array representing the vector direction
of the ray, relative to the camera&#x27;s orientation. The current <code>camera</code> object
is passed to each of these methods when they are called.
As an example, the default mouse raycaster returns a fixed origin of
<code>[0, 0, 0]</code>, and calculates the direction of the ray by calculating the vector
from the origin to the mouse coordinates on your screen. A raycaster can also
return <code>null</code> from either of these methods, which will defer cursor calculation
to the next raycaster.</p><p>Custom raycasters can also implement two optional methods: <code>frame</code> and
<code>drawsCursor</code>. If <code>frame()</code> is implemented, it will be called on each frame of
the application; this is handy for updating virtual representations of
positional controllers in your 3D scene. <code>drawsCursor</code> returns a boolean value
determining whether this raycaster should ever draw a visible cursor.</p><p>You can determine which raycasters your application uses by supplying a
<code>raycasters</code> option to <code>VRInstance</code> in your <code>client.js</code> file. The key should
point to an array of raycaster instances.</p><h2><a class="anchor" name="cursor-visibility"></a>Cursor Visibility <a class="hash-link" href="docs/input.html#cursor-visibility">#</a></h2><p>As noted above, raycaster implementations can determine whether a visible cursor
is drawn in your scene. A visible cursor is helpful for your user to determine
where their interactions will land. To help with this, we provide a standard
application-level cursor that tracks where interactions occur.</p><p>The <code>cursorVisibility</code> setting, passed at initialization time, controls the cursor
visibility and can have the following values:</p><ul><li><code>hidden</code> - No cursor is visible. This is the default.</li><li><code>visible</code> - Cursor is always displayed.</li><li><code>auto</code> - Visibility is computed each frame by React VR. Cursor is visible
when hovering over components that have input event handlers, for example
&lt;VrButton&gt; or a &lt;View&gt; to which you&#x27;ve attached handlers.</li></ul><p>These settings are set at initialization time, which means they can be defined
in one of two different places. The first is in your <code>index.html</code> page:
<code>ReactVR.init()</code> takes a map of options as its third argument.</p><div class="prism language-javascript">&lt;<span class="token operator">!</span><span class="token operator">--</span> vr<span class="token operator">/</span>index<span class="token punctuation">.</span>html <span class="token operator">--</span><span class="token operator">&gt;</span>
&lt;script<span class="token operator">&gt;</span>
ReactVR<span class="token punctuation">.</span><span class="token function">init<span class="token punctuation">(</span></span>
  <span class="token string">&#x27;../index.vr.bundle?platform=vr&#x27;</span><span class="token punctuation">,</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">,</span>
 <span class="token comment" spellcheck="true"> // third argument is a map of initialization options
</span>  <span class="token punctuation">{</span>
    cursorVisibility<span class="token punctuation">:</span> <span class="token string">&#x27;visible&#x27;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
&lt;<span class="token operator">/</span>script<span class="token operator">&gt;</span></div><p>Alternatively, if you want these options to be compiled into your application,
you can also set them in the autogenerated <code>vr/client.js</code> file. These options
are passed as the last argument when the <code>VRInstance</code> is constructed.</p><div class="prism language-javascript"><span class="token comment" spellcheck="true">// vr/client.js
</span>
const vr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VRInstance</span><span class="token punctuation">(</span>bundle<span class="token punctuation">,</span> <span class="token string">&#x27;YourProject&#x27;</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
 <span class="token comment" spellcheck="true"> // Custom initialization options go here
</span>  cursorVisibility<span class="token punctuation">:</span> <span class="token string">&#x27;visible&#x27;</span><span class="token punctuation">,</span>

  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><h2><a class="anchor" name="example"></a>Example <a class="hash-link" href="docs/input.html#example">#</a></h2><p>The following code builds a simple component that changes text color when the
cursor hovers over it:</p><div class="prism language-javascript">class <span class="token class-name">ColorChange</span> extends <span class="token class-name">React<span class="token punctuation">.</span>Component</span> <span class="token punctuation">{</span>
  <span class="token function">constructor<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">super<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>textColor<span class="token punctuation">:</span> <span class="token string">&#x27;white&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">render<span class="token punctuation">(</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      &lt;Text
        style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>textColor<span class="token punctuation">}</span><span class="token punctuation">}</span>
        onEnter<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState<span class="token punctuation">(</span></span><span class="token punctuation">{</span>textColor<span class="token punctuation">:</span> <span class="token string">&#x27;red&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        onExit<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState<span class="token punctuation">(</span></span><span class="token punctuation">{</span>textColor<span class="token punctuation">:</span> <span class="token string">&#x27;white&#x27;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
        This text will turn red when you look at it<span class="token punctuation">.</span>
      &lt;<span class="token operator">/</span>Text<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></div></div><div class="docs-prevnext"><a class="docs-prev" href="docs/3dcoordinates-and-transforms.html#content">← Prev</a><a class="docs-next" href="docs/fonts.html#content">Next →</a></div><p class="edit-page-block">You can <a target="_blank" href="https://github.com/facebook/react-vr/issues">file an issue on GitHub</a> if you see a typo or error on this page!</p></div></section><footer class="nav-footer"><section class="sitemap"><a href="./index.html" class="nav-home"><img src="img/header_logo.png" alt="React Native" width="66" height="58"></a><div><h5>Docs</h5><a href="docs/getting-started.html">Getting Started</a><a href="docs/tutorial.html">Tutorial</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script src="js/scripts.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-44373548-27', 'auto');ga('send', 'pageview');</script></body></html>