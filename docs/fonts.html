<!DOCTYPE html><html><head><title>Fonts and Text</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width"><meta property="fb:app_id" content="1677033832619985"><meta property="fb:admins" content="121800083"><meta property="og:site_name" content="React Native"><meta property="og:title" content="Fonts and Text"><meta property="og:url" content="https://facebook.github.io/react-vr/index.html"><meta property="og:image" content="https://facebook.github.io/react-vr/img/opengraph.png"><meta property="og:description" content="A framework for building native apps using React"><meta name="twitter:site" content="@reactnative"><meta name="twitter:card" content="summary_large_image"><meta property="og:type" content="website"><base href="../"><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"><link rel="shortcut icon" href="img/favicon.png?2"><link rel="stylesheet" href="css/react-vr.css"><link rel="alternate" type="application/rss+xml" title="React Native Blog" href="https://facebook.github.io/react-vr/blog/feed.xml"><link href="https://cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css"><script type="text/javascript" src="https://use.typekit.net/vqa1hcx.js"></script><script type="text/javascript">try{Typekit.load();}catch(e){}</script></head><body><script>window.fbAsyncInit = function() {FB.init({appId:'1677033832619985',xfbml:true,version:'v2.7'});};(function(d, s, id){var js, fjs = d.getElementsByTagName(s)[0];if (d.getElementById(id)) {return;}js = d.createElement(s); js.id = id;js.src = 'https://connect.facebook.net/en_US/sdk.js';fjs.parentNode.insertBefore(js, fjs);}(document, 'script','facebook-jssdk'));</script><script>window.twttr=(function(d,s, id){var js,fjs=d.getElementsByTagName(s)[0],t=window.twttr||{};if(d.getElementById(id))return t;js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js, fjs);t._e = [];t.ready = function(f) {t._e.push(f);};return t;}(document, "script", "twitter-wjs"));</script><div class="container"><div class="nav-main"><div class="wrap"><a class="nav-home" href="./index.html"><img src="img/header_logo.png">React VR</a><div class="nav-site-wrapper"><ul class="nav-site nav-site-internal"><li><a href="docs/getting-started.html" class="active" data-target=".nav-docs">Docs</a></li></ul><ul class="nav-site nav-site-external"><li><a href="https://github.com/facebook/react-vr" class="">GitHub</a></li><li><a href="http://facebook.github.io/react" class="">React</a></li><li><a href="http://facebook.github.io/react-native" class="">React Native</a></li></ul></div></div></div><section class="content wrap documentationContent"><div class="nav-docs"><div class="nav-docs-viewport"><div class="nav-docs-section"><h3>The Basics</h3><ul><li><a style="margin-left:10px;" class="" href="docs/getting-started.html">Getting Started</a></li><li><a style="margin-left:10px;" class="" href="docs/tutorial.html">Hello World</a></li><li><a style="margin-left:10px;" class="" href="docs/project-configuration.html">Project Configuration</a></li><li><a style="margin-left:10px;" class="" href="docs/publishing.html">Publishing Your Project</a></li><li><a style="margin-left:10px;" class="" href="docs/react-vroverview.html">React VR Overview</a></li><li><a style="margin-left:10px;" class="" href="docs/components-props-and-state.html">Components, Props and State</a></li><li><a style="margin-left:10px;" class="" href="docs/layout-and-style.html">Layout and Style</a></li><li><a style="margin-left:10px;" class="" href="docs/3dcoordinates-and-transforms.html">3D Coordinates and Transforms</a></li><li><a style="margin-left:10px;" class="" href="docs/input.html">Cursors and Input</a></li><li><a style="margin-left:10px;" class="active" href="docs/fonts.html">Fonts and Text</a></li><li><a style="margin-left:10px;" class="" href="docs/vrbrowsers.html">VR Browsers</a></li><li><a style="margin-left:10px;" class="" href="docs/dev-tools.html">Dev Tools</a></li><li><a style="margin-left:10px;" class="" href="docs/release-change-log.html">Release Changelog</a></li></ul></div><div class="nav-docs-section"><h3>Guides</h3><ul><li><a style="margin-left:10px;" class="" href="docs/animations.html">Animations</a></li><li><a style="margin-left:10px;" class="" href="docs/colors.html">Colors</a></li><li><a style="margin-left:10px;" class="" href="docs/debugging.html">Debugging</a></li><li><a style="margin-left:10px;" class="" href="docs/images.html">Images</a></li><li><a style="margin-left:10px;" class="" href="docs/timers.html">Timers</a></li><li><a style="margin-left:10px;" class="" href="docs/native-modules.html">Native Modules and Views</a></li><li><a style="margin-left:10px;" class="" href="docs/platform-specific-information.html">Platform Specific Code</a></li><li><a style="margin-left:10px;" class="" href="docs/video-player.html">Video Player</a></li></ul></div><div class="nav-docs-section"><h3>core components</h3><ul><li><a style="margin-left:10px;" class="" href="docs/view.html">View</a></li><li><a style="margin-left:10px;" class="" href="docs/image.html">Image</a></li><li><a style="margin-left:10px;" class="" href="docs/text.html">Text</a></li></ul></div><div class="nav-docs-section"><h3>React VR Components</h3><ul><li><a style="margin-left:10px;" class="" href="docs/ambientlight.html">AmbientLight</a></li><li><a style="margin-left:10px;" class="" href="docs/box.html">Box</a></li><li><a style="margin-left:10px;" class="" href="docs/liveenvcamera.html">LiveEnvCamera</a></li><li><a style="margin-left:10px;" class="" href="docs/cylinder.html">Cylinder</a></li><li><a style="margin-left:10px;" class="" href="docs/cylindricalpanel.html">CylindricalPanel</a></li><li><a style="margin-left:10px;" class="" href="docs/directionallight.html">DirectionalLight</a></li><li><a style="margin-left:10px;" class="" href="docs/model.html">Model</a></li><li><a style="margin-left:10px;" class="" href="docs/pano.html">Pano</a></li><li><a style="margin-left:10px;" class="" href="docs/plane.html">Plane</a></li><li><a style="margin-left:10px;" class="" href="docs/pointlight.html">PointLight</a></li><li><a style="margin-left:10px;" class="" href="docs/scene.html">Scene</a></li><li><a style="margin-left:10px;" class="" href="docs/sound.html">Sound</a></li><li><a style="margin-left:10px;" class="" href="docs/sphere.html">Sphere</a></li><li><a style="margin-left:10px;" class="" href="docs/spotlight.html">SpotLight</a></li><li><a style="margin-left:10px;" class="" href="docs/video.html">Video</a></li><li><a style="margin-left:10px;" class="" href="docs/videocontrol.html">VideoControl</a></li><li><a style="margin-left:10px;" class="" href="docs/videopano.html">VideoPano</a></li><li><a style="margin-left:10px;" class="" href="docs/vrbutton.html">VrButton</a></li></ul></div><div class="nav-docs-section"><h3>APIs</h3><ul><li><a style="margin-left:10px;" class="" href="docs/animated.html">Animated</a></li><li><a style="margin-left:10px;" class="" href="docs/appregistry.html">AppRegistry</a></li><li><a style="margin-left:10px;" class="" href="docs/appstate.html">AppState</a></li><li><a style="margin-left:10px;" class="" href="docs/asyncstorage.html">AsyncStorage</a></li><li><a style="margin-left:10px;" class="" href="docs/controllerinfo.html">ControllerInfo</a></li><li><a style="margin-left:10px;" class="" href="docs/easing.html">Easing</a></li><li><a style="margin-left:10px;" class="" href="docs/externalassets.html">ExternalAssets</a></li><li><a style="margin-left:10px;" class="" href="docs/glyphtextures.html">GlyphTextures</a></li><li><a style="margin-left:10px;" class="" href="docs/history.html">History</a></li><li><a style="margin-left:10px;" class="" href="docs/linking.html">Linking</a></li><li><a style="margin-left:10px;" class="" href="docs/location.html">Location</a></li><li><a style="margin-left:10px;" class="" href="docs/reactvrconstants.html">ReactVRConstants</a></li><li><a style="margin-left:10px;" class="" href="docs/stylesheet.html">StyleSheet</a></li><li><a style="margin-left:10px;" class="" href="docs/mediaplayerstate.html">MediaPlayerState</a></li><li><a style="margin-left:10px;" class="" href="docs/nativemethodsmixin.html">NativeMethodsMixin</a></li><li><a style="margin-left:10px;" class="" href="docs/rctvideomodule.html">RCTVideoModule</a></li><li><a style="margin-left:10px;" class="" href="docs/vrheadmodel.html">VrHeadModel</a></li><li><a style="margin-left:10px;" class="" href="docs/vrsoundeffects.html">VrSoundEffects</a></li><li><a style="margin-left:10px;" class="" href="docs/layout-props.html">Layout Props</a></li></ul></div></div></div><div class="inner-content"><a id="content"></a><h1><a class="anchor" name="fonts-and-text"></a>Fonts and Text <a class="hash-link" href="docs/fonts.html#fonts-and-text">#</a></h1><div><p>The rendering of fonts and text in VR is tricky as text elements (glyphs) are rendered in 3D.</p><h4><a class="anchor" name="options"></a>Options <a class="hash-link" href="docs/fonts.html#options">#</a></h4><p>One option is to use geometry fonts as used in three.js <a href="https://github.com/mrdoob/three.js/blob/master/src/geometries/TextGeometry.js" target="_blank">TextGeometry</a> however this can be computationally expensive for large quantities of text. A second option is to use the browser to generate text blocks and then make these available through html5 canvas bitmaps to OpenGLES textures used by React VR. However, the difficulty with this approach is determining an ideal rendering size that strikes a proper balance between minimizing blur and managing the amount of texture memory required.</p><h4><a class="anchor" name="react-vr"></a>React VR <a class="hash-link" href="docs/fonts.html#react-vr">#</a></h4><p>For these reasons, React VR takes a slightly different approach, one which attempts to maximize for the common usage, but in turn has its own constraints. React VR text rendering makes use of the same method as the Oculus Mobile SDK and uses <a href="http://www.valvesoftware.com/publications/2007/SIGGRAPH2007_AlphaTestedMagnification.pdf" target="_blank">Signed Distance Field</a> fonts.</p><p>Using distance field fonts allows the font to remain crisp and sharp even when dynamically rendered to the screen in 3D. Because the fonts are rendered using bitmap textures, a minimal amount of geometry is used. We get dynamic font content and placement with minimal geometry and texture usage.</p><p>The constraint is that because glyphs are not generated dynamically, the full unicode character set often present in browsers is not available.</p><h4><a class="anchor" name="character-sets"></a>Character sets <a class="hash-link" href="docs/fonts.html#character-sets">#</a></h4><p>The React VR default character set is based on 387 glyphs covering <a href="https://en.wiktionary.org/wiki/EFIGS" target="_blank">EFIGS</a> languages. Also included are pregenerated textures for Japanese and Korean although these understandably are larger downloads. They are shipped within the <code>ovrui</code> npm package, in the <code>fonts/</code> directory.</p><p>To use an alternative font texture, you need to load it before React VR is initialized. The loaded font can then be passed to React VR in your <code>client.js</code> code.</p><div class="prism language-javascript">OVRUI<span class="token punctuation">.</span><span class="token function">loadFont<span class="token punctuation">(</span></span>
  <span class="token string">&#x27;path/to/custom.fnt&#x27;</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;path/to/custom.png&#x27;</span>
<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token punctuation">(</span>font<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
 <span class="token comment" spellcheck="true"> // &#x27;font&#x27; contains everything React VR needs to render &lt;Text&gt; elements with
</span> <span class="token comment" spellcheck="true"> // your custom font.
</span>
 <span class="token comment" spellcheck="true"> // Pass it to the boilerplate init code
</span>  const vr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VRInstance</span><span class="token punctuation">(</span>bundle<span class="token punctuation">,</span> <span class="token string">&#x27;MyProject&#x27;</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // Pass in the custom font as an initialization property
</span>    font<span class="token punctuation">:</span> font<span class="token punctuation">,</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment" spellcheck="true"> // ...
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></div><p>By loading fonts explicitly you are able to install fallback fonts should the main font set not cover enough of the character set. Contained within the repository are fonts that cover the majority of Chinese, Japanese and Korean glyphs and the OVRUI function <code>addFontFallback</code> is used to add a fallback to an already loaded font set.</p><div class="prism language-javascript"><span class="token keyword">var</span> fallbackFonts <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string">&#x27;assets/cjk_0.fnt&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;assets/cjk_0_sdf.png&#x27;</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;assets/cjk_1.fnt&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;assets/cjk_1_sdf.png&#x27;</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;assets/cjk_2.fnt&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;assets/cjk_2_sdf.png&#x27;</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;assets/korean_0.fnt&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;assets/korean_0_sdf.png&#x27;</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;assets/korean_1.fnt&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;assets/korean_1_sdf.png&#x27;</span><span class="token punctuation">,</span>
  <span class="token string">&#x27;assets/efigs.fnt&#x27;</span><span class="token punctuation">:</span> <span class="token string">&#x27;assets/efigs.png&#x27;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">
// use the embedded defaultFont and and fallbacks
</span><span class="token keyword">var</span> font <span class="token operator">=</span> OVRUI<span class="token punctuation">.</span><span class="token function">loadFont<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">addFallback<span class="token punctuation">(</span></span>fallbackFont<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  OVRUI<span class="token punctuation">.</span><span class="token function">addFontFallback<span class="token punctuation">(</span></span>font<span class="token punctuation">,</span> fallbackFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
  count<span class="token operator">--</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // all fallbacks are loaded start the VRInstance
</span>   <span class="token comment" spellcheck="true"> // &#x27;font&#x27; contains everything React VR needs to render &lt;Text&gt; elements with
</span>   <span class="token comment" spellcheck="true"> // your custom font.
</span>
   <span class="token comment" spellcheck="true"> // Pass it to the boilerplate init code
</span>    const vr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VRInstance</span><span class="token punctuation">(</span>bundle<span class="token punctuation">,</span> <span class="token string">&#x27;MyProject&#x27;</span><span class="token punctuation">,</span> parent<span class="token punctuation">,</span> <span class="token punctuation">{</span>
     <span class="token comment" spellcheck="true"> // Pass in the custom font as an initialization property
</span>      font<span class="token punctuation">:</span> font<span class="token punctuation">,</span>
      <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>options<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   <span class="token comment" spellcheck="true"> // ...
</span>  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
guiSysOptions<span class="token punctuation">.</span>font <span class="token operator">=</span> OVRUI<span class="token punctuation">.</span><span class="token function">loadFont<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> fallbackFonts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token comment" spellcheck="true"> // allow each font to asynchronously load in parallel and start VR instance when all complete
</span>  count<span class="token operator">++</span><span class="token punctuation">;</span>
  OVRUI<span class="token punctuation">.</span><span class="token function">loadFont<span class="token punctuation">(</span></span>key<span class="token punctuation">,</span> fallbackFonts<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then<span class="token punctuation">(</span></span><span class="token punctuation">(</span>fallbackFont<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">addFallback<span class="token punctuation">(</span></span>fallbackFont<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></div><p>It is also possible to generate your own font set textures using the fontue tool in the <a href="https://developer.oculus.com/downloads/" target="_blank">Oculus Mobile SDK</a>. The tool has a dependency on <a href="https://www.freetype.org" target="_blank">FreeType</a>, and can be found in the Oculus Mobile SDK <code>Tools/fontue</code> directory, along with a <code>readme.txt</code> describing its operation.</p><p>The base command line for the efigs font is:</p><div class="prism language-javascript">OculusSans<span class="token operator">-</span>Medium<span class="token punctuation">.</span>otf efigs\efigs <span class="token operator">-</span>co <span class="token operator">-</span><span class="token number">0.01</span> <span class="token operator">-</span>ts <span class="token number">1.0</span> <span class="token operator">-</span>hpad <span class="token number">128</span> <span class="token operator">-</span>vpad <span class="token number">128</span> <span class="token operator">-</span>sdf <span class="token number">256</span> <span class="token number">1024</span> <span class="token number">1024</span> <span class="token operator">-</span>cf data\strings\values\strings<span class="token punctuation">.</span>xml <span class="token operator">-</span>cf data\strings\values<span class="token operator">-</span>de\strings<span class="token punctuation">.</span>xml <span class="token operator">-</span>cf data\strings\values<span class="token operator">-</span>en<span class="token operator">-</span>rGB\strings<span class="token punctuation">.</span>xml <span class="token operator">-</span>cf data\strings\values<span class="token operator">-</span>es\strings<span class="token punctuation">.</span>xml <span class="token operator">-</span>cf data\strings\values<span class="token operator">-</span>es<span class="token operator">-</span>rES\strings<span class="token punctuation">.</span>xml <span class="token operator">-</span>cf data\strings\values<span class="token operator">-</span>fr\strings<span class="token punctuation">.</span>xml <span class="token operator">-</span>cf data\strings\values<span class="token operator">-</span>it\strings<span class="token punctuation">.</span>xml <span class="token operator">-</span>cf data\EFIGS_extended<span class="token punctuation">.</span>txt</div><p>Further characters can be added using additional <code>-cf</code> entries.</p></div><div class="docs-prevnext"><a class="docs-prev" href="docs/input.html#content">← Prev</a><a class="docs-next" href="docs/vrbrowsers.html#content">Next →</a></div><p class="edit-page-block">You can <a target="_blank" href="https://github.com/facebook/react-vr/issues">file an issue on GitHub</a> if you see a typo or error on this page!</p></div></section><footer class="nav-footer"><section class="sitemap"><a href="./index.html" class="nav-home"><img src="img/header_logo.png" alt="React Native" width="66" height="58"></a><div><h5>Docs</h5><a href="docs/getting-started.html">Getting Started</a><a href="docs/tutorial.html">Tutorial</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><div id="fb-root"></div><script src="js/scripts.js"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create', 'UA-44373548-27', 'auto');ga('send', 'pageview');</script></body></html>